<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Load font awesome icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      crossorigin="anonymous"
    />

    <!-- owl carousel libraries -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- product list -->
    <!-- <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans"
    /> -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    />
    <!-- <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    /> -->
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> -->
    <!-- css -->
    <!-- <link rel="stylesheet" href="../css/style.css" /> -->
    <!-- <link rel="stylesheet" href="../css/topnav.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/banner.css" />
    <link rel="stylesheet" href="../css/footer.css" /> -->
    <link rel="stylesheet" href="../css/trangchu.css" />
    <!-- js -->
    <!-- <script src="../js/trangchu.js"></script> -->
  </head>
  <body>
    
    <!-- End Top Nav  -->
    <section>
      
      <!-- <div class="banner">
        <div id="myCarousel" class="carousel slide" data-ride="carousel"> -->
          <!-- Indicators -->
          <!-- <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
            <li data-target="#myCarousel" data-slide-to="3"></li>
          </ol> -->

          <!-- Wrapper for slides -->
          <!-- <div class="carousel-inner slideItem">
          </div>
          <script>
            $(document).ready(function () {
              $.ajax({
                type: "GET",
                url: "http://localhost:9090/slide/slides",
                dataType: "json",
                success: function (result, status, xhr) {
                  // console.log(result);
                  var html = ``;
                  result.forEach((item) => {
                    $(".slideItem").append(
                      `<div class="item">
                          <img
                          src="/img/banners/` +
                        item.image +
                        `"
                            alt=""
                            style="width: 100%"
                          />
                    </div>`
                    );
                  });
                  $(".carousel-inner").children().first().addClass("active");
                  // showDivs(1);
                },
                error: function (xhr, status, error) {
                  alert("Lỗi render slide");
                },
              });
              // showDivs(1);
            });
          </script> -->
          <!-- Left and right controls -->
          <!-- <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a
            class="right carousel-control"
            href="#myCarousel"
            data-slide="next"
          >
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div> -->
      <!-- End Banner -->

      <br />
      <!-- sản phẩm trending -->
      <div class="container-xl">
        <div class="row">
          <div class="col-md-12">
            <h2 style="font-weight: bold">Trending Products</h2>
            <div
              id="myCarousel-1"
              class="carousel slide"
              data-ride="carousel"
              data-interval="0"
            >
              <div class="carousel-inner productHot">
                <!-- <div class="item carousel-item active">
                  <div class="row">
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="item carousel-item">
                  <div class="row">
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="item carousel-item">
                  <div class="row">
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>
                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="thumb-wrapper">
                        <span class="wish-icon"
                          ><i class="fa fa-heart-o"></i
                        ></span>
                        <div class="img-box">
                          <a href="#">
                            <img
                              src="../img/products/600_Artboard_2_3.png"
                              class="img-fluid"
                              alt=""
                            />
                          </a>
                        </div>
                        <div class="thumb-content">
                          <h4>Apple iPad</h4>

                          <p class="item-price">
                            <strike>2,000,000</strike><u>đ</u>
                            <b>1,900,000<u>đ</u></b>
                          </p>
                          <a href="#" class="btn btn-primary">Add to Cart</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div> -->
              </div>
              <script>
                $(document).ready(function () {
                  $.ajax({
                    type: "GET",
                    url: "http://localhost:9090/product/findTreding",
                    dataType: "json",
                    success: function (result, status, xhr) {
                      // console.log("Phan tu dau tien");
                      console.log(result);
                      var row = parseInt(result.length / 4);
                      var du = parseInt(result.length % 4);
                      if (du > 0) {
                        row += 1;
                      }
                      console.log("row: " + row + "/ du: " + du);
                      var numberRow=parseInt(row);
                      var productHot = $(".productHot");

                      var index = 0;
                      var i;
                      for (i = 0; i < numberRow; i++) {
                        var item = $('<div class="item carousel-item"></div>');
                        var row = $('<div class="row"></div>');
                        
                        for (var j = 0; j < 4; j++) {
                            row.append(
                                    `<div class="col-sm-3">
                              <div class="thumb-wrapper">
                                <span class="wish-icon"
                                  ><i class="fa fa-heart-o"></i
                                ></span>
                                <div class="img-box">
                                  <a href="productDetail.html?id=` +
                                      result[index].id +
                                      `">
                                    <img
                                      src="/img/products/` +
                                      result[index].productImage +
                                      `"
                                      class="img-fluid"
                                      alt=""
                                    />
                                  </a>
                                </div>
                                <div class="thumb-content">
                                  <h4>` +
                                      result[index].productName+" "+result[index].colorName +
                                      `</h4>
                                  <p class="item-price">
                                    <strike>` +
                                      result[index].price +
                                      `</strike><u>đ</u>
                                    <b>1,900,000<u>đ</u></b>
                                  </p>
                                  <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                              </div>
                            </div>`
                            );

                            item.append(row);
                            index++;
                          if(index>4){break;}
                        }
                        productHot.append(item);
                        
                      }
                      productHot.children().first().addClass("active");
                    },
                    error: function (xhr, status, error) {
                      alert("Lỗi render slide");
                    },
                  });
                  // showDivs(1);
                });
              </script>
              <!-- Carousel controls -->
              <a
                class="carousel-control-prev"
                href="#myCarousel-1"
                data-slide="prev"
              >
                <i class="fa fa-angle-left"></i>
              </a>
              <a
                class="carousel-control-next"
                href="#myCarousel-1"
                data-slide="next"
              >
                <i class="fa fa-angle-right"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- end sản phẩm trending -->

    </section>
    <!-- End Section -->
  </body>
</html>
